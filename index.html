<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/theme.css">

    <script src="https://polygit2.appspot.com/components/webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="components/modal.html">
  </head>
  
  <body>
    <a class='open-modal' href="#m1">Abrir modal</a>
    <cms-modal id="m1" backdrop allow-scroll>
        <header>
            <a href="#" class="pull-right modal-close">x</a>
            <h3>Modal Header</h3>
        </header>
        <main>
            <p>Text for modal body goes here</p>
        </main>
        <footer>
            <button class="btn btn-confirm" type="button">Confirmar</button>
            <button class="btn btn-cancel modal-close" type="button">Cancelar</button>
        </footer>
    </cms-modal>

    <script>
        window.addEventListener('load', function() {
            if(window.location.hash)
                document.querySelector(`cms-modal[id=${window.location.hash.substring(1)}]`).open();

            document.querySelectorAll('.open-modal').forEach(e => 
                e.addEventListener('click', function() { 
                    let modal = document.querySelector(`cms-modal[id=${e.hash.substring(1)}]`);
                    modal.addEventListener('close', () => window.location.hash = '');
                    modal.open(); 
                }));
        });
    </script>
  </body>
</html>
