<link rel="import" href="../../polymer/polymer-element.html"><dom-module id="wc-modal"><template><style>:host *,:host :after,:host :before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}:host{contain:content;position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;overflow-x:hidden;overflow-y:auto;outline:0;opacity:0}.modal-dialog{position:relative;width:auto;max-width:var(--wc-modal-max-width,600px);min-height:var(--wc-modal-min-height,auto);margin:var(--wc-modal-margin-y,30px) var(--wc-modal-margin-x,auto);background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}:host([is-open]){z-index:1050;opacity:1;transition:opacity .4s ease}:host([large]) .modal-dialog{max-width:var(--wc-modal-max-width,1000px)}.modal-content{position:relative}::slotted(header){padding:15px!important;border-bottom:1px solid #e5e5e5}::slotted(main){position:relative;padding:15px!important}::slotted(footer){padding:15px!important;text-align:right;border-top:1px solid #e5e5e5}</style><div class="modal-dialog"><div class="modal-content"><slot></slot></div> </div> </template><script>class WcModal extends Polymer.Element{static get is(){return'wc-modal'}static get config(){return{properties:{hasBackdrop:Boolean,allowScroll:Boolean,isOpen:{type:Boolean,observer:'_isOpenChanged'}}}}connectedCallback(){super.connectedCallback(),this.hasBackdrop&&this._prepareBackdrop();var a=this;this.root.addEventListener('click',(b)=>{b.target&&b.target.hasAttribute('close-modal')&&(a.isOpen=!1),b.stopPropagation()},!1)}_prepareBackdrop(){if(this.backdrop=document.querySelector('#modal-backdrop'),!this.backdrop){this;this.backdrop=document.createElement('div'),this.backdrop.id='modal-backdrop';var a={position:'fixed',display:'none',top:0,right:0,bottom:0,left:0,'z-index':1040,'background-color':'#000',opacity:.5};for(var b in a)this.backdrop.style[b]=a[b];document.body.appendChild(this.backdrop)}}_documentClickListener(){this.isOpen=!1}_open(){this.hasBackdrop&&(this.backdrop.style.display='block'),this.allowScroll||(document.body.style.overflow='hidden'),this.root.host.setAttribute('is-open',!0),this.root.host.addEventListener('click',this._documentClickListener.bind(this),!1),this.dispatchEvent(new CustomEvent('openned'))}_close(){this.root.host.removeAttribute('is-open');let a=!1;document.querySelectorAll('wc-modal').forEach((b)=>{'block'==b.style.display&&(a=!0)}),!a&&this.hasBackdrop&&(this.backdrop.style.display='none'),a||this.allowScroll||(document.body.style.overflow=''),this.root.host.removeEventListener('click',this._documentClickListener.bind(this),!1),this.dispatchEvent(new CustomEvent('closed'))}_isOpenChanged(a){a?this._open():this._close()}}customElements.define(WcModal.is,WcModal);</script> </dom-module>