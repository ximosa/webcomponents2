<link rel="import" href="../../polymer/polymer-element.html"><dom-module id="wc-popover"><template><slot></slot></template><script>class WcPopover extends Polymer.Element{static get is(){return'wc-popover'}static get config(){return{properties:{target:{type:String,observer:'_targetChanged'},direction:String,visible:{type:Boolean,observer:'_visibleChanged'},showEvent:{type:String,value:'mouseenter',observer:'_showEventChanged'},hideEvent:{type:String,value:'mouseout',observer:'_hideEventChanged'}}}}_bindStyles(a,b){for(var c in b)a.style[c]=b[c]}_create(){this.elem=document.createElement('div'),this.elem.classList.add('wc-popover'),this._bindStyles(this.elem,{position:'absolute',padding:'5px',display:'none',visibility:'hidden',opacity:0}),document.body.appendChild(this.elem)}_getPosition(){var a=this.targetElem.getBoundingClientRect();this.elem.style.display='block';var b=this.elem.getBoundingClientRect(),c={};switch(this.direction){case'top':c={top:`${a.top+window.scrollY-b.height}px`,left:`${a.left+window.scrollX+a.width/2-b.width/2}px`};break;case'bottom':c={top:`${a.top+window.scrollY+a.height}px`,left:`${a.left+window.scrollX+a.width/2-b.width/2}px`};break;case'left':c={top:`${a.top+window.scrollY}px`,left:`${a.left+window.scrollX-b.width}px`};break;default:c={top:`${a.top+window.scrollY}px`,left:`${a.left+window.scrollX+a.width}px`};}return c}_show(){this.visible=!0}_hide(){this.visible=!1}_targetChanged(a){this.targetElem&&(this.showEvent&&'none'!=this.showEvent&&this.targetElem.removeEventListener(this.showEvent,this._show.bind(this)),this.hideEvent&&'none'!=this.hideEvent&&this.targetElem.removeEventListener(this.hideEvent,this._hide.bind(this))),this.targetElem=a.trim()?document.querySelector(a):null,this.targetElem&&(this.showEvent&&'none'!=this.showEvent&&this.targetElem.addEventListener(this.showEvent,this._show.bind(this)),this.hideEvent&&'none'!=this.hideEvent&&this.targetElem.addEventListener(this.hideEvent,this._hide.bind(this)))}_showEventChanged(a,b){this.showEvent=a.trim(),this.targetElem&&(b&&'none'!=b&&this.targetElem.removeEventListener(b,this._show.bind(this)),this.showEvent&&'none'!=this.showEvent&&this.targetElem.addEventListener(a,this._show.bind(this)))}_hideEventChanged(a,b){this.hideEvent=a.trim(),this.targetElem&&(b&&'none'!=b&&this.targetElem.removeEventListener(b,this._show.bind(this)),this.hideEvent&&'none'!=this.hideEvent&&this.targetElem.addEventListener(this.hideEvent,this._show.bind(this)))}_visibleChanged(a){if(a){var b=Object.assign({opacity:1,display:'block',visibility:'visible',transition:'opacity .3s ease-in-out'},this._getPosition());this._bindStyles(this.elem,b),this.elem.classList.add('in')}else{var b=Object.assign({display:'none',visibility:'hidden',opacity:0},this._getPosition());this._bindStyles(this.elem,b),this.elem.classList.remove('in')}}connectedCallback(){this;this._create(),this.elem.innerHTML=this.innerHTML,this.innerHTML='',super.connectedCallback()}}customElements.define(WcPopover.is,WcPopover);</script></dom-module>