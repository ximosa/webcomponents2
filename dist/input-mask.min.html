<link rel="import" href="../bower_components/polymer/polymer-element.html"><dom-module id="wc-inputmask"><template><style></style><slot></slot></template><script>class WcInputMask extends Polymer.Element{static get is(){return'wc-inputmask'}static get config(){return{properties:{mask:String}}}connectedCallback(){this;this.input=this.querySelector('input'),this.pattern=this.mask.split(''),this._changed(),this.input.addEventListener('keyup',this._changed.bind(this)),super.connectedCallback()}_stripMask(a){return a.split('').filter(function(c){return /\d/.test(c)})}_applyMask(a){return this.pattern.map(function(b){return'_'==b?0==a.length?b:a.shift():b}).join('')}_reapplyMask(a){return this._applyMask(this._stripMask(a))}_changed(){var a=this.input.selectionStart,b=this.input.selectionEnd;this.input.value=this._reapplyMask(this.input.value),this.input.selectionStart=a,this.input.selectionEnd=b}}customElements.define(WcInputMask.is,WcInputMask);</script></dom-module>